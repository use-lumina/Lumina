# =============================================================================
# Lumina Self-Hosted Configuration
# =============================================================================
# Copy this file to .env.docker and update the values
# Usage: docker-compose --env-file .env.docker up

# =============================================================================
# Environment
# =============================================================================
NODE_ENV=production
LOG_LEVEL=info

# =============================================================================
# Authentication Mode
# =============================================================================
# AUTH_REQUIRED=false → Self-hosted mode (no API keys needed, optional auth)
# AUTH_REQUIRED=true  → Managed cloud mode (API keys required for all requests)
AUTH_REQUIRED=false

# =============================================================================
# Anthropic API Key (REQUIRED for semantic scoring and replay)
# =============================================================================
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# =============================================================================
# JWT Secret (REQUIRED for dashboard authentication)
# =============================================================================
# Generate a secure key with: openssl rand -base64 32
JWT_SECRET=change-this-in-production-generate-with-openssl-rand-base64-32
JWT_EXPIRY=24h

# =============================================================================
# Alert Configuration
# =============================================================================
ALERTS_ENABLED=true
COST_SPIKE_THRESHOLD_PERCENT=20
QUALITY_SCORE_THRESHOLD=0.7
BASELINE_WINDOW=24h

# =============================================================================
# Replay Configuration
# =============================================================================
MAX_CONCURRENT_REPLAYS=5
REPLAY_TIMEOUT_MS=60000

# =============================================================================
# API URLs (for dashboard)
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8081
NEXT_PUBLIC_INGESTION_URL=http://localhost:8080
NEXT_PUBLIC_REPLAY_URL=http://localhost:8082

# =============================================================================
# Optional: Webhook Notifications
# =============================================================================
# SLACK_WEBHOOK_URL=
# DISCORD_WEBHOOK_URL=
# PAGERDUTY_API_KEY=

# =============================================================================
# Optional: Telemetry
# =============================================================================
# Anonymous telemetry helps us improve Lumina
# Set to false to opt-out
# TELEMETRY_ENABLED=true

# =============================================================================
# Advanced Configuration (optional)
# =============================================================================
# Only change these if you know what you're doing
# POSTGRES_USER=lumina
# POSTGRES_PASSWORD=lumina
# POSTGRES_DB=lumina
# POSTGRES_PORT=5432
# REDIS_PORT=6379
# NATS_PORT=4222
# INGESTION_PORT=8080
# API_PORT=8081
# REPLAY_PORT=8082
# DASHBOARD_PORT=3000